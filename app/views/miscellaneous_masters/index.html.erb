<div id="form_name_display">
	<table width="100%" border=0" cellspacing="0" cellpadding="0">
  	<tr>
    		<td width="50%">IP Patients >>&nbsp;&nbsp;&nbsp;<a HREF='/miscellaneous_masters' class="nav" style="text-decoration:none;">Miscellaneous Bills</a></td>
    		<td align="right" width="50%"><%= format_date(:short, Date.today ) %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
  	</tr>
	</table>
</div><br/><br/>
<center>
<%= link_to 'New', new_miscellaneous_master_path, :class=>"new1" %>
</center>
<div align="center" width="100%">
<table class="tablesorter" border="0" cellpadding="0" cellspacing="1" >
<tbody>
	<tr>
	<td width="12%">&nbsp;</td>
					<%= javascript_include_tag:defaults %>
	<td width="15%"><input type="text" style="width:100%" id="mis_no" placeholder="Search Mis No"></td>
					<%= observe_field 'mis_no', :frequency => 0.01,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'&mis_no=' + escape($('mis_no').value)+ '&voucher_no=' + escape($('voucher_no').value)+ '&department=' + escape($('department').value)+ '&employee_code=' + escape($('employee_code').value)+ '&total_amount=' + escape($('total_amount').value)" %>
					  
	<td width="15%"><input type="text" style="width:100%" id="voucher_no" onKeyUp = "search_function(id,event)" placeholder="Search Voucher No"></td>
					<%= observe_field 'voucher_no', :frequency => 0.01,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'mis_no='+escape($('mis_no').value)+ '&voucher_no=' + escape($('voucher_no').value)+ '&department=' + escape($('department').value)+ '&employee_code=' + escape($('employee_code').value)+ '&total_amount=' + escape($('total_amount').value)" %>
	<td width="15%"><input type="text" style="width:100%" id="department" onKeyUp = "search_function(id,event)" placeholder="Search Department"></td>
					<%= observe_field 'department', :frequency => 0.01,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'mis_no='+escape($('mis_no').value)+ '&voucher_no=' + escape($('voucher_no').value)+ '&department=' + escape($('department').value)+ '&employee_code=' + escape($('employee_code').value)+ '&total_amount=' + escape($('total_amount').value)" %>
	<td width="15%"><input type="text" style="width:100%" id="employee_code" onKeyUp = "search_function(id,event)" placeholder="Search Employee"></td>
					<%= observe_field 'employee_code', :frequency => 0.01,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'mis_no='+escape($('mis_no').value)+ '&voucher_no=' + escape($('voucher_no').value)+ '&department=' + escape($('department').value)+ '&employee_code=' + escape($('employee_code').value)+ '&total_amount=' + escape($('total_amount').value)" %>
	<td width="15%"><input type="text" style="width:100%" id="total_amount" onKeyUp = "search_function(id,event)" placeholder="Search Gross Amount"></td>
					<%= observe_field 'total_amount', :frequency => 0.01,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'mis_no='+escape($('mis_no').value)+ '&voucher_no=' + escape($('voucher_no').value)+ '&department=' + escape($('department').value)+ '&employee_code=' + escape($('employee_code').value)+ '&total_amount=' + escape($('total_amount').value)" %>
	
	<td colspan="3" align="center" valign="top">
		<%= link_to 'Clear','', :class=>"new1" %>
	</td>
  </tr>
 </tbody>
</table>
</div>
<div id="name" align="center" width="100%">
<table id="tablesorter-demo" class="tablesorter" border="0" cellpadding="0" cellspacing="1">
<thead>
  <tr>
    <th>S.No</th>    
    <th>Mis No</th>
	<th>Voucher No</th>
	<th>Department</th>
	<th>Employee Code</th>
	<th>Total Amount</th>
    <th colspan="2" align="center">Permissions</th>
  </tr>
  </thead>
<tbody>
<% @i=0 %>
<% @miscellaneous_master.each do |miscellaneous_master| %>
<% if((@i % 2)==0) 
		id="datacellone"
	else
		id="datacelltwo"
		 end %>
  <tr class='<%= id %>' style="height:30px">
	<td><%= @i+=1 %></td>
    <td><%=h miscellaneous_master.mis_no %></td>
    <td><%=h miscellaneous_master.voucher_no %></td>
    <td><%=h miscellaneous_master.department %></td>
    <td><%=h miscellaneous_master.employee %></td>
    <td><%=h miscellaneous_master.total_amount %></td>

	<td align="center"><%= link_to '&nbsp;&nbsp;&nbsp;edit&nbsp;&nbsp;&nbsp;', edit_miscellaneous_master_path(miscellaneous_master), :class=>"submit_button" %></td>   
	<td  align="center"><%= link_to '&nbsp;&nbsp;&nbsp;Print&nbsp;&nbsp;&nbsp;', {:action => 'report', :id => miscellaneous_master.id, :format => "pdf"}, :class=>"submit_button" %></td>
  
 </tr>
<% end %>
</table>
<br />
