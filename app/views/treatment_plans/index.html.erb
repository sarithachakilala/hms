
<center><h3><font color="#015a84">Treatment Plan Records</font></h3>
<%= link_to 'New', new_treatment_plan_path, :class=>"new1" %>
</center>

<script type="application/javascript">
	var type
	function clear_file()
	{
		document.getElementById("admn_search").value=""
		document.getElementById("mr_no_search").value=""
		document.getElementById("type_search").value=""
		document.getElementById("treatment_date_search").value=""
		document.getElementById("consultant_search").value=""
	}
 </script>
<div align="center" width="100%">
<table class="tablesorter" border="0" cellpadding="0" cellspacing="1" >
	<tr>
	<td width="6%">&nbsp;</td>
	<td width="10%"><input type="text" style="width:100%" id="admn_search" onKeyUp = "search_function(id,event)" placeholder="Search Admn No"></td>
		<%= javascript_include_tag:defaults %>
					<%= observe_field 'admn_search', :frequency => 0.2,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'admn_search='+escape($('admn_search').value)+ '&mr_no_search=' + escape($('mr_no_search').value)+ '&treatment_date_search=' + escape($('treatment_date_search').value)+ '&consultant_search=' + escape($('consultant_search').value)+ '&type_search=' + escape($('type_search').value) " %>
				
	<td width="12%"><input type="text" style="width:100%" id="mr_no_search" onKeyUp = "search_function(id,event)" placeholder="Search MR No"></td>
					<%= observe_field 'mr_no_search', :frequency => 0.2,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'admn_search='+escape($('admn_search').value)+ '&mr_no_search=' + escape($('mr_no_search').value)+ '&treatment_date_search=' + escape($('treatment_date_search').value)+ '&consultant_search=' + escape($('consultant_search').value)+ '&type_search=' + escape($('type_search').value) " %>
	<td width="12%"><input type="text" style="width:100%" id="type_search" onKeyUp = "search_function(id,event)" placeholder="Search Patient Type"></td>
					<%= observe_field 'type_search', :frequency => 0.2,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'admn_search='+escape($('admn_search').value)+ '&mr_no_search=' + escape($('mr_no_search').value)+ '&treatment_date_search=' + escape($('treatment_date_search').value)+ '&consultant_search=' + escape($('consultant_search').value)+ '&type_search=' + escape($('type_search').value) " %>
	<td width="12%"><input type="text" style="width:100%" id="treatment_date_search" onKeyUp = "search_function(id,event)" placeholder="Search Treatment Date"></td>
					<%= observe_field 'treatment_date_search', :frequency => 0.2,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'admn_search='+escape($('admn_search').value)+ '&mr_no_search=' + escape($('mr_no_search').value)+ '&treatment_date_search=' + escape($('treatment_date_search').value)+ '&consultant_search=' + escape($('consultant_search').value)+ '&type_search=' + escape($('type_search').value) " %>
	<td width="12%"><input type="text" style="width:100%" id="consultant_search" onKeyUp = "search_function(id,event)" placeholder="Search Consultant"></td>
					<%= observe_field 'consultant_search', :frequency => 0.2,
					:update => :name,
					:url => {:action => :observe_field_ex },
					:with => "'admn_search='+escape($('admn_search').value)+ '&mr_no_search=' + escape($('mr_no_search').value)+ '&treatment_date_search=' + escape($('treatment_date_search').value)+ '&consultant_search=' + escape($('consultant_search').value)+ '&type_search=' + escape($('type_search').value) " %>
	<td colspan="3" align="center" valign="top">
		<%= link_to 'Clear','', :class=>"new1",:onClick => "clear_file()"  %>
	</td>
  </tr>
</table>
</div>

 <!-- End of the Code for field search	 -->
 
 <div id="name">
<table id="tablesorter-demo" class="tablesorter" border="0" cellpadding="0" cellspacing="1">
<thead>
  <tr>
	<th>S.No</th> 
    <th>Admn No</th>
    <th>MR No</th>
    <th>Patient type</th>
    <th>Treatment Date</th>
    <th>Consultant Id</th>  
   <th colspan="2" align="center">Permissions</th>
  </tr>
  <br />
</thead>
<tbody>
<% @i=0 %>
<% @treatment_plans.each do |treatment_plan| %>
<% if((@i % 2)==0) 
		id="datacellone"
	else
		id="datacelltwo"
	end %>
  <tr class='<%= id %>' style="height:30px">
	<td><%= @i+=1 %></td>
    <td><%=h treatment_plan.admn_no %></td>
    <td><%=h treatment_plan.mr_no %></td>
    <td><%=h treatment_plan.patient_type %></td>
    <td><%=h treatment_plan.treatment_date %></td>
    <td><%=h treatment_plan.consultant_id %></td>
  
	<td align="center"><%= link_to '&nbsp;&nbsp;&nbsp;Edit&nbsp;&nbsp;&nbsp;', edit_treatment_plan_path(treatment_plan), :class=>"submit_button" %></td>   
	<td  align="center"><%= link_to '&nbsp;&nbsp;&nbsp;Print&nbsp;&nbsp;&nbsp;', {:action => 'report', :id => treatment_plan.id, :format => "pdf", :print_type=>"duplicate"}, :class=>"submit_button" %></td>  
	
  </tr>
<% end %>
</table>
<p align="right"><div align="right" class="pagination"><%= will_paginate @treatment_plans,  :style => "font: bold 15px Arial red;" %></p>
