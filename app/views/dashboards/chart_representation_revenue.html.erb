<%= javascript_include_tag 'dashboards/jquery-1.4.2.min' %>
<%= javascript_include_tag 'dashboards/jquery.min' %>
<%= javascript_include_tag 'dashboards/jquery-1.5.2.min' %>
<%= javascript_include_tag 'dashboards/exporting.src' %>
<%= javascript_include_tag 'dashboards/highcharts.src' %>
<%= javascript_include_tag 'dashboards/dark-green' %> 
<%= javascript_include_tag 'dashboards/exporting' %>
<% if(@type=="Yearly") %>  
 <script type="text/javascript" charset="utf-8">
 
var chart;
$(document).ready(function() {
   chart = new Highcharts.Chart({
      chart: {
         renderTo: 'container',
        type: 'spline'
		},
		title: {
			text: 'Year Wise Finance'
		},
		xAxis: {
			categories: [
					<% for j in 0...@years.length %>
					 	<%= @years[j] %>,
					<% end %>
				     ]
		},
		yAxis: {
			title: {
				text: 'Amount'
			},
			labels: {
				formatter: function() {
					return this.value 
				}
			}
		},
		tooltip: {
			crosshairs: true,
			shared: true
		},
		plotOptions: {
			spline: {
				marker: {
					radius: 4,
					splineColor: '#666666',
					splineWidth: 1
				}
			}
		},
		series: [{
			 name: 'Appt.Payments',
			marker: {
				symbol: 'square'
			},
		      data: [<% for j in 0...@con.length %>
				 <%= @con[j] %>,
				<% end %>]
			
		},{
			name: 'Advance',
		       data: [<% for j in 0...@ip_payments.length %>
				 <%= @ip_payments[j] %>,
				<% end %>]		
		},{
			name: 'Final Bill',
		       data: [<% for j in 0...@final_bill.length %>
				 <%= @final_bill[j] %>,
				<% end %>]		
		},{
			name: 'Due',
		       data: [<% for j in 0...@due.length %>
				 <%= @due[j] %>,
				<% end %>]		
		}
		]
	});
});

</script>

  <% elsif(@type=="Weekly") %>  
  
  <script type="text/javascript" charset="utf-8">
 
var chart;
$(document).ready(function() {
   chart = new Highcharts.Chart({
      chart: {
         renderTo: 'container',
        type: 'spline'
		},
		title: {
			text: 'Day Wise Finance'
		},
		xAxis: {
			categories: [
					<% for j in 0...@years.length %>
					 	<%= @years[j] %>,
					<% end %>
				     ]
		},
		yAxis: {
			title: {
				text: 'Amount'
			},
			labels: {
				formatter: function() {
					return this.value 
				}
			}
		},
		tooltip: {
			crosshairs: true,
			shared: true
		},
		plotOptions: {
			spline: {
				marker: {
					radius: 4,
					splineColor: '#666666',
					splineWidth: 1
				}
			}
		},
		series: [{
			 name: 'Appt.Payments',
			marker: {
				symbol: 'square'
			},
		      data: [<% for j in 0...@con.length %>
				 <%= @con[j] %>,
				<% end %>]
			
		},{
			name: 'Advance',
		       data: [<% for j in 0...@ip_payments.length %>
				 <%= @ip_payments[j] %>,
				<% end %>]		
		},{
			name: 'Final Bill',
		       data: [<% for j in 0...@final_bill.length %>
				 <%= @final_bill[j] %>,
				<% end %>]		
		},{
			name: 'Due',
		       data: [<% for j in 0...@due.length %>
				 <%= @due[j] %>,
				<% end %>]		
		}
		]
	});
});

</script>
		
<% else %>

<script type="text/javascript" charset="utf-8">

var chart;
$(document).ready(function() {
   chart = new Highcharts.Chart({
      chart: {
         renderTo: 'container',
        type: 'spline'
		},
		title: {
			text: 'Month Wise Finance'
		},
		xAxis: {
			categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
				'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
		},
		yAxis: {
			title: {
				text: 'Amount'
			},
			labels: {
				formatter: function() {
					return this.value 
				}
			}
		},
		tooltip: {
			crosshairs: true,
			shared: true
		},
		plotOptions: {
			spline: {
				marker: {
					radius: 4,
					splineColor: '#666666',
					splineWidth: 1
				}
			}
		},
		series: [{
			 name: 'Appt.Payments',
			marker: {
				symbol: 'square'
			},
		      data: [<% for j in 0...@con.length %>
				 <%= @con[j] %>,
				<% end %>]
			
		},{
			name: 'Advance',
		       data: [<% for j in 0...@ip_payments.length %>
				 <%= @ip_payments[j] %>,
				<% end %>]		
		},{
			name: 'Final Bill',
		       data: [<% for j in 0...@final_bill.length %>
				 <%= @final_bill[j] %>,
				<% end %>]		
		},{
			name: 'Due',
		       data: [<% for j in 0...@due.length %>
				 <%= @due[j] %>,
				<% end %>]		
		}
		]
	});
});

 </script>  
<% end %>
	
<body>
    <div id="container" style="width: 800px; height: 400px; margin: 0 auto"></div>
 </body>   
  </html> 